# 婚礼喜糖领取系统 - 使用说明

## 📋 系统概述

这是一个完整的婚礼喜糖在线领取系统，包含前台表单填写、后台管理、数据导出等功能。

---

## 🔐 管理员登录信息

### 默认账号
- **用户名**: `admin`
- **密码**: `dbdbdengbei..`

> ⚠️ **重要**: 首次使用后，请在管理后台修改默认密码！

---

## 🎯 功能模块

### 1. 首页 (`index.html`)
- 婚礼主题展示
- 新人信息（邓蓓 & 唐韬）
- 婚礼倒计时
- 喜糖图片轮播
- "立即填写"按钮跳转到表单

### 2. 表单页面 (`form.html`)
**四步填写流程**:

#### 步骤 1: 基本信息
- 姓名（必填，2-20字符）
- 与新人关系（必选）

#### 步骤 2: 联系方式
- 手机号（必填，11位）
- 微信号（必填，6-20字符）

#### 步骤 3: 配送地址
- 省/市/区三级联动（必选）
- 详细地址（必填，至少3字符）
- 邮政编码（可选）
- 期望配送时间（必选）

#### 步骤 4: 确认提交
- 信息预览
- 隐私政策确认
- 祝福留言（可选，最多200字）

**特色功能**:
- ✅ 实时表单验证
- ✅ 自动保存草稿
- ✅ 手机号脱敏显示
- ✅ 友好的错误提示
- ✅ 防止重复提交

### 3. 成功页面 (`success.html`)
提交成功后显示：
- ✅ 成功图标动画
- 📋 提交详细信息
- 🔍 查询号码（可复制）
- 📦 预计寄送时间
- 💬 分享功能
- 💾 保存信息（文本/图片）

### 4. 管理后台 (`admin.html`)

#### 登录功能
- 用户名密码验证
- 会话管理（24小时超时）
- 记住登录状态
- 防暴力破解（5次失败锁定10分钟）

#### 数据统计
- 📊 总提交数
- ✅ 已处理数量
- ⏳ 待处理数量
- 📅 今日新增

#### 数据管理
- 📋 查看所有记录
- 🔍 搜索功能（姓名/手机号）
- 👁️ 查看详情
- 🔄 切换状态（待处理/已发货/已签收）
- 🗑️ 删除记录
- 📥 导出Excel/JSON
- 🧹 清空数据（带备份）

---

## 💾 数据存储

### LocalStorage 结构
所有数据存储在浏览器 LocalStorage：

```javascript
// 领取记录
wedding_recipients_data: [
  {
    id: "R20260201_001",
    name: "张三",
    phone: "138****1234",
    wechat: "zhangsan123",
    address: {...},
    relation: "friend",
    submit_time: "2026-02-01 14:30:00",
    status: "pending",
    blessing: "祝福语...",
    device_info: "iPhone | Safari",
    ...
  }
]

// 管理员会话
admin_session: {
  username: "admin",
  token: "...",
  loginTime: "...",
  expiresAt: "...",
  ...
}
```

### 数据备份
- 每次提交自动备份
- 清空数据前自动备份
- 支持从备份恢复

---

## 🛠️ 技术栈

- **前端**: 纯 HTML/CSS/JavaScript
- **存储**: LocalStorage
- **数据**: JSON 格式
- **样式**: 响应式设计，移动优先
- **动画**: CSS Animations
- **字体**: Google Fonts

---

## 📱 浏览器兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+
- ✅ 移动端浏览器（iOS Safari, Chrome Mobile）

---

## 🚀 快速开始

### 方法 1: 双击启动脚本
- **Windows**: 双击 `start.bat`
- **Mac/Linux**: 双击 `start.sh`（需要先执行 `chmod +x start.sh`）

### 方法 2: 使用 Python
```bash
# Python 3
python -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000
```

### 方法 3: 使用 Node.js
```bash
npx http-server -p 8000
```

### 方法 4: VS Code Live Server
1. 安装 Live Server 插件
2. 右键 `index.html`
3. 选择 "Open with Live Server"

---

## 📊 数据导出

### Excel 格式 (.csv)
包含字段：
- 序号、记录ID、姓名、手机号、微信号
- 关系、省份、城市、区县、详细地址、邮编
- 期望配送时间、祝福留言
- 状态、提交时间、设备信息

### JSON 格式 (.json)
完整的数据结构，包含：
- 导出时间和统计信息
- 所有记录的完整数据

---

## 🔒 安全建议

1. **修改默认密码**
   - 首次登录后立即修改
   - 使用强密码（8位以上，包含字母、数字、特殊字符）

2. **定期备份数据**
   - 定期导出 JSON 备份
   - 保存到安全位置

3. **清理敏感数据**
   - 婚礼结束后及时清理数据
   - 或部署到私有服务器

4. **HTTPS 部署**
   - 正式使用时建议部署到 HTTPS 服务器
   - 保护数据传输安全

---

## 📞 技术支持

如遇问题，请检查：

1. **浏览器控制台** - 查看错误信息
2. **LocalStorage** - 确认数据存储正常
3. **浏览器兼容性** - 使用最新版本浏览器
4. **隐私模式** - 退出隐私/无痕模式

---

## 🎨 自定义配置

### 修改配置 (`js/config.js`)

```javascript
const CONFIG = {
  COUPLE: {
    BRIDE: '邓蓓',
    GROOM: '唐韬',
    WEDDING_DATE: '2026-02-01',
  },
  ADMIN: {
    USERNAME: 'admin',
    PASSWORD: 'your_new_password',
    SESSION_TIMEOUT: 24 * 60 * 60 * 1000,
  },
  // ... 其他配置
};
```

### 修改样式 (`css/theme.css`)
- 主题色
- 字体
- 布局间距

### 修改地区数据 (`data/regions.json`)
- 添加/删除省市区
- 更新行政区划

---

## 📝 许可证

本项目为婚礼喜糖领取系统，供个人使用。

---

## 💝 祝福

祝邓蓓 & 唐韬新婚快乐，百年好合！🎉

---

**系统版本**: v1.0.0  
**更新日期**: 2026-02-01  
**开发者**: Wedding Candy System Team
