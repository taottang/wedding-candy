<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ç”Ÿæˆåˆ†äº«å›¾ç‰‡ - ç«‹å³ä¸‹è½½</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #E8B4B8;
            margin-bottom: 20px;
        }
        
        .canvas-container {
            border: 2px solid #ddd;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
        }
        
        canvas {
            max-width: 100%;
            display: block;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            background: #E8B4B8;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }
        
        button:hover {
            background: #D4A5A5;
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .instructions {
            background: #FFF5F5;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #E8B4B8;
        }
        
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“± å¾®ä¿¡åˆ†äº«å›¾ç‰‡ç”Ÿæˆå™¨</h1>
        <p><strong>é‡è¦</strong>ï¼šè¿™ä¼šç”Ÿæˆä¸€ä¸ª 1200Ã—630 åƒç´ çš„ JPG å›¾ç‰‡ï¼Œç”¨äºå¾®ä¿¡æœ‹å‹åœˆåˆ†äº«ã€‚</p>
        
        <div class="canvas-container">
            <canvas id="canvas" width="1200" height="630"></canvas>
        </div>
        
        <div class="buttons">
            <button onclick="generateImage()">ğŸ¨ é‡æ–°ç”Ÿæˆ</button>
            <button onclick="downloadImage()" id="downloadBtn">ğŸ’¾ ä¸‹è½½å›¾ç‰‡</button>
        </div>
        
        <div id="status"></div>
        
        <div class="instructions">
            <h3>ğŸ“‹ ä¸‹è½½åçš„æ“ä½œï¼š</h3>
            <ol>
                <li>å›¾ç‰‡ä¼šè‡ªåŠ¨ä¸‹è½½ä¸º <code>share-preview.jpg</code></li>
                <li>å°†æ–‡ä»¶ç§»åŠ¨åˆ°é¡¹ç›®çš„ <code>assets/images/</code> æ–‡ä»¶å¤¹</li>
                <li>åˆ é™¤ <code>share-preview.svg</code></li>
                <li>æ›´æ–°ä»£ç å¹¶æ¨é€ï¼š
                    <pre style="background: #f8f8f8; padding: 10px; border-radius: 5px; margin-top: 10px;">cd wedding-candy-system
git add assets/images/share-preview.jpg
git rm assets/images/share-preview.svg
git commit -m "æ›´æ–°åˆ†äº«å›¾ç‰‡ä¸ºJPGæ ¼å¼"
git push</pre>
                </li>
            </ol>
            
            <h3>ğŸ’¡ æˆ–è€…ä½¿ç”¨å©šçº±ç…§ï¼ˆæ¨èï¼‰ï¼š</h3>
            <p>ä½¿ç”¨ Canva (https://www.canva.com) åˆ¶ä½œæ›´ä¸“ä¸šçš„åˆ†äº«å›¾ç‰‡ï¼š</p>
            <ul>
                <li>å°ºå¯¸ï¼š1200Ã—630 åƒç´ </li>
                <li>ä¸Šä¼ å©šçº±ç…§ä½œä¸ºèƒŒæ™¯</li>
                <li>æ·»åŠ æ–‡å­—ï¼šé‚“è““ & å”éŸ¬ã€2026å¹´2æœˆ1æ—¥</li>
                <li>å¯¼å‡ºä¸º JPG</li>
            </ul>
        </div>
    </div>
    
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        function generateImage() {
            // è®¾ç½®ç™½è‰²èƒŒæ™¯ï¼ˆé˜²æ­¢é€æ˜ï¼‰
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, 1200, 630);
            
            // æ¸å˜èƒŒæ™¯
            const gradient = ctx.createLinearGradient(0, 0, 1200, 630);
            gradient.addColorStop(0, '#FFE6E6');
            gradient.addColorStop(0.5, '#F5E8E8');
            gradient.addColorStop(1, '#E8B4B8');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 1200, 630);
            
            // è£…é¥°åœ†åœˆ
            ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.beginPath();
            ctx.arc(900, 150, 200, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.beginPath();
            ctx.arc(300, 500, 150, 0, Math.PI * 2);
            ctx.fill();
            
            // ä¸­å¤®ç™½è‰²å¡ç‰‡
            ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
            ctx.shadowColor = 'rgba(0, 0, 0, 0.15)';
            ctx.shadowBlur = 30;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 10;
            ctx.beginPath();
            ctx.roundRect(150, 150, 900, 330, 20);
            ctx.fill();
            ctx.shadowBlur = 0;
            ctx.shadowOffsetY = 0;
            
            // æ ‡é¢˜ - ä½¿ç”¨æ›´é€šç”¨çš„å­—ä½“
            ctx.fillStyle = '#E8B4B8';
            ctx.font = 'bold 72px Arial, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('é‚“è““ & å”éŸ¬', 600, 260);
            
            // å‰¯æ ‡é¢˜
            ctx.fillStyle = '#5D4037';
            ctx.font = '48px Arial, sans-serif';
            ctx.fillText('å©šç¤¼å–œç³–åœ¨çº¿é¢†å–', 600, 340);
            
            // æ—¥æœŸ
            ctx.font = '36px Arial, sans-serif';
            ctx.fillStyle = '#8B7968';
            ctx.fillText('2026å¹´2æœˆ1æ—¥', 600, 410);
            
            // è£…é¥°çº¿æ¡
            ctx.strokeStyle = '#E8B4B8';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(350, 290);
            ctx.lineTo(850, 290);
            ctx.stroke();
            
            // è£…é¥°å°åœ†ç‚¹
            const dots = [
                {x: 320, y: 240, size: 8},
                {x: 880, y: 240, size: 8},
                {x: 320, y: 440, size: 6},
                {x: 880, y: 440, size: 6}
            ];
            
            ctx.fillStyle = '#E8B4B8';
            dots.forEach(dot => {
                ctx.beginPath();
                ctx.arc(dot.x, dot.y, dot.size, 0, Math.PI * 2);
                ctx.fill();
            });
            
            showStatus('âœ… å›¾ç‰‡å·²ç”Ÿæˆï¼ç‚¹å‡»"ä¸‹è½½å›¾ç‰‡"ä¿å­˜', 'success');
        }
        
        function downloadImage() {
            // æ£€æŸ¥æ˜¯å¦å·²ç”Ÿæˆå›¾ç‰‡
            const imageData = ctx.getImageData(0, 0, 1, 1);
            if (imageData.data[0] === 0 && imageData.data[1] === 0 && imageData.data[2] === 0) {
                showStatus('âš ï¸ è¯·å…ˆç‚¹å‡»"é‡æ–°ç”Ÿæˆ"æŒ‰é’®', 'warning');
                return;
            }
            
            // è½¬æ¢ä¸º JPG å¹¶ä¸‹è½½
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'share-preview.jpg';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showStatus('âœ… å›¾ç‰‡å·²ä¸‹è½½ï¼è¯·æŸ¥çœ‹ä¸‹è½½æ–‡ä»¶å¤¹', 'success');
            }, 'image/jpeg', 0.95);
        }
        
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = 'status ' + type;
        }
        
        // Canvas 2D çš„ roundRect polyfillï¼ˆå…¼å®¹æ€§ï¼‰
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, w, h, r) {
                if (w < 2 * r) r = w / 2;
                if (h < 2 * r) r = h / 2;
                this.beginPath();
                this.moveTo(x + r, y);
                this.arcTo(x + w, y, x + w, y + h, r);
                this.arcTo(x + w, y + h, x, y + h, r);
                this.arcTo(x, y + h, x, y, r);
                this.arcTo(x, y, x + w, y, r);
                this.closePath();
                return this;
            };
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨ç”Ÿæˆ
        window.addEventListener('load', function() {
            generateImage();
        });
    </script>
</body>
</html>
